const _0x58fe=['querySelector','position','top','contextmenu','value','gray','addClass','pageY','height','canvas','click','drawImage','log','lime','copyable','Copied!','data','stringify','mousePressed','add','Green','connections','5\x20x\x205','width','Copied\x20to\x20clipboard!','show','loadId','parse','form','size','block','then','state','catch','turn','menu','Red','.copyable','addEventListener','json','preventDefault','#menuSave','getElementById','hide','https://agile-sands-06400.herokuapp.com/api/v1/boards/','remove','Download\x20to\x20Device','ready','getContext','write','errors','style','png','toBlob','pageX','Check','parent','display','none','9\x20x\x209','#menuDownload','Gray','color','error'];(function(_0x59c10c,_0x58fecb){const _0x7a2a66=function(_0x403fbb){while(--_0x403fbb){_0x59c10c['push'](_0x59c10c['shift']());}};_0x7a2a66(++_0x58fecb);}(_0x58fe,0x1de));const _0x7a2a=function(_0x59c10c,_0x58fecb){_0x59c10c=_0x59c10c-0x0;let _0x7a2a66=_0x58fe[_0x59c10c];return _0x7a2a66;};const _0x11f8ac=_0x7a2a;class BoardNode{constructor(){const _0x181afc=_0x7a2a;this[_0x181afc('0x20')]=0x0,this['connections']=new Set();}}class Board{constructor(_0x403fbb,_0x102010){const _0x595e46=_0x7a2a;this[_0x595e46('0x3f')]=_0x403fbb,this[_0x595e46('0x39')]=_0x403fbb,this[_0x595e46('0x2a')]=_0x102010,this[_0x595e46('0x4')]=0x1,this['nodes']=new Set(),this[_0x595e46('0x20')]=_0x595e46('0x27');for(let _0x3cf82a=0x0;_0x3cf82a<this[_0x595e46('0x39')];_0x3cf82a++){this[_0x3cf82a]={};for(let _0x2198a6=0x0;_0x2198a6<this[_0x595e46('0x2a')];_0x2198a6++){let _0x4b68ce=new BoardNode();this[_0x3cf82a][_0x2198a6]=_0x4b68ce;}}for(let _0x495c9f=0x0;_0x495c9f+0x1<this[_0x595e46('0x39')];_0x495c9f++){for(let _0x3e5e7b=0x0;_0x3e5e7b<this[_0x595e46('0x2a')];_0x3e5e7b++){this[_0x495c9f][_0x3e5e7b]['connections']['add'](this[_0x495c9f+0x1][_0x3e5e7b]),this[_0x495c9f+0x1][_0x3e5e7b]['connections']['add'](this[_0x495c9f][_0x3e5e7b]);}}for(let _0x125bec=0x0;_0x125bec<this[_0x595e46('0x39')];_0x125bec++){for(let _0x183fca=0x0;_0x183fca+0x1<this[_0x595e46('0x2a')];_0x183fca++){this[_0x125bec][_0x183fca][_0x595e46('0x37')]['add'](this[_0x125bec][_0x183fca+0x1]),this[_0x125bec][_0x183fca+0x1][_0x595e46('0x37')][_0x595e46('0x35')](this[_0x125bec][_0x183fca]);}}}}let response,size=0x7,board=new Board(size,size);const R=0x14,D=0x2*R;let width=board['width']*D+D,height=board[_0x11f8ac('0x2a')]*D+D;function setup(){const _0x252b9=_0x11f8ac;placeColor=0x1,bg=board[_0x252b9('0x20')];let _0x304051=createCanvas(width,height)['mouseClicked'](place);_0x304051[_0x252b9('0x28')](_0x252b9('0x30')),_0x304051[_0x252b9('0x1a')]('board'),ellipseMode(RADIUS),strokeCap(PROJECT),textSize(0x12),textAlign(CENTER,CENTER),copyButton=createButton('Save\x20&\x20Copy'),copyButton['position'](0x13,0x13),copyButton['mousePressed'](saveToServer),saveButton=createButton(_0x252b9('0x10')),saveButton[_0x252b9('0x23')](0x75,0x13),saveButton['mousePressed'](saveImage),fiveFive=createButton(_0x252b9('0x38')),fiveFive['position'](0x13,0x32),fiveFive['mousePressed'](resizeBoard5),sevenSeven=createButton('7\x20x\x207'),sevenSeven[_0x252b9('0x23')](0x13,0x4b),sevenSeven['mousePressed'](resizeBoard7),nineNine=createButton(_0x252b9('0x1d')),nineNine[_0x252b9('0x23')](0x13,0x64),nineNine[_0x252b9('0x34')](resizeBoard9),buttonGreen=createButton(_0x252b9('0x36')),buttonGreen[_0x252b9('0x23')](0x13,0x96),buttonGreen[_0x252b9('0x34')](setGreen),buttonRed=createButton(_0x252b9('0x6')),buttonRed['position'](0x13,0xaf),buttonRed['mousePressed'](setRed),buttonGray=createButton(_0x252b9('0x1f')),buttonGray[_0x252b9('0x23')](0x13,0xc8),buttonGray['mousePressed'](setGray),checkButton=createButton(_0x252b9('0x19')),checkButton[_0x252b9('0x34')](check);let _0x4bf2a7=_0x304051[_0x252b9('0x23')]();checkButton['position'](_0x4bf2a7['x']+width/0x2,_0x4bf2a7['y']-0x19);}function setSize(_0x11898b){const _0x5d9113=_0x11f8ac;size=_0x11898b,resizeCanvas(size*D+D,size*D+D),board=new Board(size,size),width=board[_0x5d9113('0x39')]*D+D,height=board[_0x5d9113('0x2a')]*D+D;}function draw(){const _0x417a61=_0x11f8ac;background(board[_0x417a61('0x20')]),stroke(0x0),strokeWeight(0x2),translate(D,D);for(let _0x5b7564=0x0;_0x5b7564<board[_0x417a61('0x39')];_0x5b7564++){line(_0x5b7564*D,0x0,_0x5b7564*D,(board[_0x417a61('0x2a')]-0x1)*D);}for(let _0x2150d0=0x0;_0x2150d0<board[_0x417a61('0x2a')];_0x2150d0++){line(0x0,_0x2150d0*D,(board['width']-0x1)*D,_0x2150d0*D);}noStroke();for(let _0x33f079=0x0;_0x33f079<board[_0x417a61('0x39')];_0x33f079++){for(let _0x5c11f9=0x0;_0x5c11f9<board[_0x417a61('0x2a')];_0x5c11f9++){let _0x261881=board[_0x33f079][_0x5c11f9];_0x261881['color']&&(fill((_0x261881[_0x417a61('0x20')]===-0x1)*0xff),circle(_0x33f079*D,_0x5c11f9*D,R));}}let _0x2f23b4=floor(map(mouseX,R,width-R,0x0,width,!![])),_0x4b23f9=floor(map(mouseY,R,height-R,0x0,height,!![]));if(board[_0x2f23b4]&&board[_0x2f23b4][_0x4b23f9]){let _0x2db99b=board[_0x2f23b4][_0x4b23f9];if(keyIsDown(0x5a))_0x2db99b[_0x417a61('0x20')]=0x1;if(keyIsDown(0x58))_0x2db99b[_0x417a61('0x20')]=-0x1;if(keyIsDown(0x43))_0x2db99b[_0x417a61('0x20')]=0x0;}textSize(0x19),textAlign(LEFT),board['id']&&drawWords();}function place(){const _0x4960bd=_0x11f8ac;let _0x1049d7=floor(map(mouseX,R,width-R,0x0,board[_0x4960bd('0x39')],!![])),_0x454e57=floor(map(mouseY,R,height-R,0x0,board[_0x4960bd('0x2a')],!![]));if(board[_0x1049d7]&&board[_0x1049d7][_0x454e57]){let _0x1b3fa8=board[_0x1049d7][_0x454e57];if(keyIsDown(SHIFT))_0x1b3fa8['color']+=0x2;else _0x1b3fa8[_0x4960bd('0x20')]+=0x1;if(_0x1b3fa8[_0x4960bd('0x20')]>0x1)_0x1b3fa8[_0x4960bd('0x20')]-=0x3;}setGray();}function keyPressed(){if(key=='q')setGray();if(key=='w')setGreen();if(key=='e')setRed();if(key=='s')saveCanvas();}function resizeBoard5(){setSize(0x5);}function resizeBoard7(){setSize(0x7);}function resizeBoard9(){setSize(0x9);}function setGreen(){const _0xf6a3b2=_0x11f8ac;board[_0xf6a3b2('0x20')]=_0xf6a3b2('0x2f');}function setRed(){const _0x4fe556=_0x11f8ac;board[_0x4fe556('0x20')]='red';}function setGray(){const _0x1ae2fe=_0x11f8ac;board[_0x1ae2fe('0x20')]='gray';}function copyImage(){const _0x449eba=_0x11f8ac;copyCanvasContentsToClipboard(document[_0x449eba('0x22')](_0x449eba('0x7')),copiedText,onError);}function copiedText(_0x4f3c57){const _0x5ba312=_0x11f8ac;console[_0x5ba312('0x2e')](_0x5ba312('0x31'));let _0x2f6215=createSpan(_0x5ba312('0x3a'));setTimeout(()=>{const _0x205fb7=_0x5ba312;_0x2f6215[_0x205fb7('0xf')]();},0x7d0);}function onError(_0xbfbceb){console['log'](_0xbfbceb);}const scaleCanvas=(_0x13a9d0,_0x1aa200)=>{const _0x3423e5=_0x11f8ac,_0x2163f4=document['createElement'](_0x3423e5('0x2b'));return _0x2163f4[_0x3423e5('0x39')]=_0x13a9d0[_0x3423e5('0x39')]*_0x1aa200,_0x2163f4[_0x3423e5('0x2a')]=_0x13a9d0[_0x3423e5('0x2a')]*_0x1aa200,_0x2163f4[_0x3423e5('0x12')]('2d')[_0x3423e5('0x2d')](_0x13a9d0,0x0,0x0,_0x2163f4['width'],_0x2163f4[_0x3423e5('0x2a')]),_0x2163f4;};function copyCanvasContentsToClipboard(_0x34d47c,_0x46941a,_0x428a97){const _0x480b27=_0x11f8ac;scaleCanvas(_0x34d47c,0.5)[_0x480b27('0x17')](function(_0x4f48a7){const _0x244adb=_0x480b27;let _0x1c4c43=[new ClipboardItem({'image/png':_0x4f48a7})];navigator['clipboard'][_0x244adb('0x13')](_0x1c4c43)[_0x244adb('0x1')](function(){_0x46941a(_0x1c4c43);},function(_0x59398b){_0x428a97(_0x59398b);});});}function saveImage(){postToAPI(saveToFile);}function saveToFile(){const _0x5eaff5=_0x11f8ac,_0x14a10f=scaleCanvas(document[_0x5eaff5('0x22')](_0x5eaff5('0x7')),0.5);saveCanvas(_0x14a10f,'Koan_'+board['id'],_0x5eaff5('0x16'));}function drawWords(){const _0x3c723e=_0x11f8ac;board[_0x3c723e('0x20')]==_0x3c723e('0x2f')?fill(0x0):fill('white'),text(board['id'],-0x1e,height-0x37);}function postToAPI(_0x3cadc8){const _0x141239=_0x11f8ac,_0x428390={'board':{'size':board[_0x141239('0x3f')],'state':JSON[_0x141239('0x33')](board)}};fetch('https://agile-sands-06400.herokuapp.com/api/v1/boards',{'method':'post','headers':{'Content-Type':'application/json'},'body':JSON[_0x141239('0x33')](_0x428390)})[_0x141239('0x1')](_0xfc2185=>_0xfc2185[_0x141239('0x9')]())[_0x141239('0x1')](_0x526089=>{const _0x3e2544=_0x141239;_0x526089['errors']?console[_0x3e2544('0x2e')](_0x526089['errors']):updateBoard(_0x526089);})[_0x141239('0x1')](()=>{setTimeout(()=>{_0x3cadc8();},0x64);})[_0x141239('0x3')](_0x231316=>console['log'](_0x231316));}function saveToServer(){postToAPI(copyImage);}$(document)['ready'](function(){const _0x1398e5=_0x11f8ac;$(_0x1398e5('0xb'))['on'](_0x1398e5('0x2c'),function(_0x469ee9){saveToServer();}),$(_0x1398e5('0x1e'))['on'](_0x1398e5('0x2c'),function(_0x40940e){saveImage();}),$(_0x1398e5('0x3e'))['on']('submit',function(_0x3c7d17){const _0x2681e5=_0x1398e5;_0x3c7d17[_0x2681e5('0xa')]();let _0x18d14b=document[_0x2681e5('0xc')](_0x2681e5('0x3c'))[_0x2681e5('0x26')],_0x573e24=_0x2681e5('0xe')+_0x18d14b;document[_0x2681e5('0xc')](_0x2681e5('0x3c'))[_0x2681e5('0x26')]='',fetch(_0x573e24,{'method':'get'})[_0x2681e5('0x1')](_0x408469=>_0x408469[_0x2681e5('0x9')]())[_0x2681e5('0x1')](_0xd60cec=>{const _0x18f425=_0x2681e5;_0xd60cec[_0x18f425('0x14')]?console['log'](_0xd60cec['errors']):updateBoard(_0xd60cec);})[_0x2681e5('0x3')](_0x6cdd0d=>console[_0x2681e5('0x21')](_0x6cdd0d));});});function updateBoard(_0x91373c){const _0x3f68f8=_0x11f8ac;console['log'](_0x91373c),size!==_0x91373c[_0x3f68f8('0x32')]['size']&&(size=_0x91373c[_0x3f68f8('0x32')][_0x3f68f8('0x3f')],setSize(size)),board=JSON[_0x3f68f8('0x3d')](_0x91373c[_0x3f68f8('0x32')][_0x3f68f8('0x2')]),board['id']=_0x91373c[_0x3f68f8('0x32')]['id'];}function check(){checkMatch()?setGreen():setRed();}function checkMatch(){const _0x26f299=_0x11f8ac;for(bx=0x0;bx<board[_0x26f299('0x3f')];bx++){for(by=0x0;by<board[_0x26f299('0x3f')];by++){if(board[bx][by][_0x26f299('0x20')]===0x1){let _0x113afc=0x0,_0x595556=0x0;for(let _0x25ee4d=0x0;_0x25ee4d<board[_0x26f299('0x3f')];_0x25ee4d++){if(board[bx][_0x25ee4d][_0x26f299('0x20')]!==0x0)_0x113afc++;if(board[_0x25ee4d][by][_0x26f299('0x20')]!==0x0)_0x595556++;}if(_0x113afc===0x1&&_0x595556===0x1)return!![];}}}return![];}let menuVisible=![];$(document)[_0x11f8ac('0x11')](function(){const _0x14f125=_0x11f8ac;window[_0x14f125('0x8')](_0x14f125('0x25'),_0x32d7cc=>{const _0x3c2790=_0x14f125;_0x32d7cc[_0x3c2790('0xa')]();});const _0x53a8a1=document[_0x14f125('0xc')](_0x14f125('0x5'));let _0x26c13c=![];const _0x2237c5=_0x2f4b36=>{const _0x497252=_0x14f125;_0x53a8a1[_0x497252('0x15')][_0x497252('0x1b')]=_0x2f4b36===_0x497252('0x3b')?_0x497252('0x0'):_0x497252('0x1c'),_0x26c13c=!_0x26c13c;};window[_0x14f125('0x8')](_0x14f125('0x25'),_0x527589=>{const _0x137a1b=_0x14f125;_0x527589[_0x137a1b('0xa')]();const _0x415edc={'left':_0x527589[_0x137a1b('0x18')],'top':_0x527589[_0x137a1b('0x29')]};return _0x53e890(_0x415edc),![];});const _0x53e890=({top:_0x12579b,left:_0x7aac2b})=>{const _0x1b63fa=_0x14f125;_0x53a8a1[_0x1b63fa('0x15')]['left']=_0x7aac2b+'px',_0x53a8a1['style'][_0x1b63fa('0x24')]=_0x12579b+'px',_0x2237c5(_0x1b63fa('0x3b'));};window[_0x14f125('0x8')](_0x14f125('0x2c'),_0x5ea4f2=>{const _0x3529b8=_0x14f125;if(_0x26c13c)_0x2237c5(_0x3529b8('0xd'));});});